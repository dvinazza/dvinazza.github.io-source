<p>Hace unos días un servidor de archivos con windows amaneció con un RAID degradado. Si bien teníamos respaldo de los archivos, dada la complejidad del árbol de directorios, queríamos respaldar también los permisos de cada carpeta/compartido.</p>
<p>Descubrimos que windows guarda las carpetas compartidas y los permisos de acceso en el registro, y esto vuelve la configuración básica fácil de exportar/importar. Pero no va más allá de quien puede acceder a la carpeta.</p>
<pre class="code text"><a name="rest_code_cfb53e477d6d4a96aee63af8dbb8dbe9-1"></a>regedit.exe /E compartidos.reg &quot;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LanmanServer\Shares&quot;
</pre><p>Por otro lado, microsoft tiene su propias herramienta para administrar los permisos. Pero no llegamos muy lejos por ahí. Nos daba algunos errores incomprensibles.. Así que buscamos directamente una third party que pueda resolver nuestro dilema sin chillar. Ahí encontramos a <a class="reference external" href="https://helgeklein.com/setacl/">SetACL</a>. Si bien tiene una versión paga con interfaz gráfica, la versión gratuita por línea de comandos resultó ideal para programar lo que necesitabamos.</p>
